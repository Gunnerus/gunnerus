{% extends 'reserver/admin_base.html' %}
{% load bootstrap3 %}
{% block admin_content %}
		
	{% if users|length > 0 %}
		<h2 class="sub-header">All approved users</h2>
		<div class="table-responsive">
			<table class="table table-striped">
				<thead>
					<tr>
						<th>Name</th>
						<th>Username</th>
						<th>E-mail address</th>
						<th>Role</th>
						<th>Organization</th>
						<th>Phone number</th>
					</tr>
				</thead>
				<tbody>
					{% for user in users %}
						<tr>
							<td>{{ user.user.get_full_name }}</td>
							<td>{{ user.user.username }}</td>
							<td>{{ user.user.email }}</td>
							<td>{{ user.role }}</td>
							<td>{{ user.organization }} {% if user.organization.is_NTNU %}(NTNU){% endif %}</td>
							<td>{{ user.phone_number }}</td>
						</tr>
						<tr class="extra-info">
							<td colspan=6>
								{% buttons %}
									<div class="btn-group">
										<button disabled class="btn btn-default btn-label">
											{% bootstrap_icon "pencil" %} Set as...
										</button>
										<a href="{% url 'user-set-internal' user.user.pk %}" class="btn btn-info">
											Internal user
										</a>
										<a href="{% url 'user-set-external' user.user.pk %}" class="btn btn-info">
											External user
										</a>
										<a href="{% url 'user-set-admin' user.user.pk %}" class="btn btn-warning">
											Administrator
										</a>
									</div>
									<a href="{% url 'edit-userdata' user.user.pk %}" class="btn btn-warning">
										{% bootstrap_icon "pencil" %} Edit
									</a>
									<a href="{% url 'user-delete' user.user.pk %}" class="btn btn-danger">
										{% bootstrap_icon "remove" %} Delete
									</a>
								{% endbuttons %}
							</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
	{% endif %}

{% endblock %}